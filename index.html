<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Focus Guard</title>
    
    <!-- 1. Link to External CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- 2. Load External AI Libraries (TensorFlow) -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
</head>
<body>

    <!-- PAGE 1: SETUP VIEW -->
    <div id="setup-view">
        <h2 class="brand-title">AI Focus Guard</h2>
        <p class="subtitle">Enter your goal to begin monitoring.</p>
        
        <div class="input-group">
            <label>What are you working on?</label>
            <input type="text" id="topic-input" placeholder="e.g., History Essay" autocomplete="off">
        </div>

        <div class="input-group">
            <label>Duration (Minutes)</label>
            <input type="number" id="time-input" placeholder="25" min="1" value="25">
        </div>

        <button id="start-btn" class="primary-btn" disabled>Loading AI Model...</button>
        <div id="load-status">Initializing TensorFlow...</div>
    </div>

    <!-- PAGE 2: MONITOR VIEW -->
    <div id="monitor-view">
        <div id="session-info">
            <div class="info-item">
                <div class="info-label">Current Task</div>
                <div class="info-value" id="display-topic">---</div>
            </div>
            <div class="info-item">
                <div class="info-label">Time Remaining</div>
                <div class="info-value" id="timer-display">00:00</div>
            </div>
            <button id="stop-btn" class="stop-btn">QUIT</button>
        </div>

        <div id="cam-container">
            <video id="webcam" autoplay playsinline muted></video>
            <canvas id="canvas"></canvas>
        </div>
        
        <div class="status-bar" id="status-text">Session Active. Monitoring for phones...</div>
    </div>

    <!-- HIDDEN AUDIO ASSETS -->
    <audio id="alarm-sound" src="https://www.soundjay.com/mechanical/sounds/smoke-detector-1.mp3" preload="auto"></audio>

    <!-- PUNISHMENT OVERLAY -->
    <div id="overlay">
        <h1>PHONE DETECTED</h1>
        
        <!-- â­ UPDATE SRC TO YOUR MEME VIDEO -->
        <video id="guilt-video" src="https://www.w3schools.com/html/mov_bbb.mp4" loop></video>
        
        <button id="forgive-btn">I Am Sorry. I Will Focus.</button>
    </div>

    <!-- 3. Load Custom Logic Scripts (Order Matters!) -->
    <!-- Load AI Brain first, then UI Controller -->
    <script src="ai_core.js"></script>
    <script src="ui_controller.js"></script>

</body>
</html>